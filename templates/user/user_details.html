{% extends 'base.html' %}

{% block title %}
{{user.first_name}} {{user.last_name}} Info
{% endblock %}

{% block content %}

<div>
    <div class="row">
        <div class="col-sm-2 col-6">
            <img src="{{user.image_url}}" class="img-fluid rounded">
        </div>
        <div class="col-sm-10 col-12">
            <div>
                <h1 class="display-5">{{user.first_name}} {{user.last_name}}</h1>
            </div>
            <div>
                <form>
                    <button class="btn btn-sm btn-primary" formaction="/users/{{user.id}}/edit"
                        formmethod="GET">Edit</button>
                    <button class="btn btn-sm btn-danger" formaction="/users/{{user.id}}/delete" formmethod="POST"
                        onclick="return confirm('Are you sure you want to delete the user {{user.first_name}} {{user.last_name}}?')">Delete</button>
                </form>
            </div>
            <div>
                <h2 class="display-6 mt-5">Posts</h2>
            </div>
            <div>
                <ul>
                    {% for post in user.posts %}
                    <li>
                        <a href="/users/{{post.users_id}}/post/{{post.id}}">{{ post.title }}</a>
                        <small class="text-muted"><em>{{post.date_time}}</em></small>
                    </li>
                    {% endfor %}
                </ul>
                <a class="btn btn-sm btn-outline-dark" href="/users">Go Back</a>
                <a class="btn btn-sm btn-primary" href="/users/{{user.id}}/post/new">Add Post</a>
            </div>
        </div>
    </div>
</div>

{% endblock %}